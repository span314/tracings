<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Metronome</title>
    <script src="metronome.js"></script>
  </head>
  <body>
    <script>
      var testDuration = 6000;
      var testPollRate = 50;
      var test = new WebAudioMetronome();

      test.options({
        beatsPerMinute: 138,
        startTick: 0,
        beatPattern: [3, 1, 1, 2, 1, 1],
        beatsPerMeasure: 3,
        ticksPerBeat: 4,
        sound: true
      });

      var timerId = setInterval(function() {
        console.log(test.synchronize(performance.now()));
        testDuration -= testPollRate;
        if (testDuration <= 0) {
          clearInterval(timerId);
        }
      }, testPollRate);
    </script>
  </body>
</html>